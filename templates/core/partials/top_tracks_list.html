<div id="tracks-content">
{% if has_data %}
<div class="tracks-table-container">
    <table class="tracks-table">
        <thead>
            <tr>
                <th class="rank-cell">Rank</th>
                <th class="track-cell">Track</th>
                <th class="artist-cell">Artist</th>
                <th class="album-cell">Album</th>
                <th class="scrobbles-cell">Scrobbles</th>
            </tr>
        </thead>
        <tbody>
            {% for track in tracks %}
            <tr>
                <td class="rank-cell">
                    {{ track.rank }}
                </td>
                <td class="track-cell">
                    {% comment %}
                    <!-- Future enhancement: Link to track detail page -->
                    <a href="{% url 'core:track-detail' track.id %}">
                    {% endcomment %}
                    <span class="track-name">{{ track.name }}</span>
                    {% comment %}
                    </a>
                    {% endcomment %}
                </td>
                <td class="artist-cell">
                    <a href="{% url 'core:artist-detail' track.artist_id %}" class="artist-name">
                        {{ track.artist_name }}
                    </a>
                </td>
                <td class="album-cell">
                    {% comment %}
                    <!-- Future enhancement: Link to album detail page -->
                    <a href="{% url 'core:album-detail' track.album_id %}" class="album-name">
                        {{ track.album_name|default:"Unknown Album" }}
                    </a>
                    {% endcomment %}
                    <span class="album-name">{{ track.album_name|default:"Unknown Album" }}</span>
                </td>
                <td class="scrobbles-cell">
                    {{ track.scrobble_count|floatformat:0 }}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" class="empty-state">
                    <span class="empty-state-icon">ðŸŽµ</span>
                    <h3>No Tracks Found</h3>
                    <p>No tracks found for the selected time period.</p>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    {% if has_data %}
    <div class="summary-info">
        <span>
            Showing top {{ total_tracks }} track{{ total_tracks|pluralize }} for {{ period_display }}
        </span>
        <span>
            {{ total_scrobbles|floatformat:0 }} total scrobble{{ total_scrobbles|pluralize }}
        </span>
    </div>
    {% endif %}
</div>

{% else %}
<!-- Empty State -->
<div class="tracks-table-container">
    <div class="empty-state">
        <span class="empty-state-icon">ðŸŽµ</span>
        <h3>No Data Available</h3>
        <p>
            {% if selected_period == 'all' %}
                No scrobbles found in your library. Import some data to see your top tracks.
            {% else %}
                No scrobbles found for {{ period_display }}. Try selecting a different time period.
            {% endif %}
        </p>
        {% if error %}
        <div class="error-details" style="margin-top: 1rem; padding: 1rem; background: rgba(255, 0, 0, 0.1); border: 1px solid rgba(255, 0, 0, 0.3); border-radius: 8px;">
            <strong>Error:</strong> {{ error }}
        </div>
        {% endif %}
        <div style="margin-top: 1.5rem;">
            <a href="{% url 'core:index' %}" class="btn btn-primary">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5"/>
                    <polyline points="12,19 5,12 12,5"/>
                </svg>
                Back to Dashboard
            </a>
        </div>
    </div>
</div>
{% endif %}
</div>