<!-- Sync Status and System Information -->
{% if sync_status %}
<div class="sync-info" id="sync-status" hx-get="{% url 'core:index' %}?partial=sync" hx-trigger="every 10s" hx-select="#sync-status" hx-swap="outerHTML">
    <div class="sync-status sync-status-{{ sync_status.status }}">
        <div class="sync-indicator">
            {% if sync_status.status == 'syncing' %}
                <div class="sync-spinner"></div>
            {% elif sync_status.status == 'success' %}
                <span class="sync-icon">✓</span>
            {% elif sync_status.status == 'error' %}
                <span class="sync-icon">⚠</span>
            {% else %}
                <span class="sync-icon">●</span>
            {% endif %}
        </div>

        <div class="sync-content">
            {% if sync_status.status == 'syncing' %}
                <span class="sync-label">Syncing with Last.fm...</span>
            {% elif sync_status.status == 'success' and sync_status.last_sync %}
                <span class="sync-label">Last updated:</span>
                <time datetime="{{ sync_status.last_sync|date:'c' }}" class="sync-time">
                    {{ sync_status.last_sync|date:'M j, Y \a\t H:i' }}
                </time>
            {% elif sync_status.status == 'error' %}
                <span class="sync-label">Sync error:</span>
                <span class="sync-error">{{ sync_status.error_message|truncatechars:50 }}</span>
            {% else %}
                <span class="sync-label">Ready for sync</span>
            {% endif %}

            {% if sync_status.sync_count > 0 %}
                <span class="sync-count">{{ sync_status.sync_count }} successful syncs</span>
            {% endif %}
        </div>

        {% if sync_status.status == 'error' %}
        <div class="sync-actions">
            <button class="btn btn-sm btn-ghost" onclick="location.reload()">Retry</button>
            <a href="{% url 'core:health_check' %}" class="btn btn-sm btn-ghost">Check Status</a>
        </div>
        {% endif %}
    </div>
</div>
{% endif %}